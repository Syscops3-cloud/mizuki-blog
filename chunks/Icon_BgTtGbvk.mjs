import { c as createComponent, a as createAstro, d as renderTemplate, g as defineScriptVars, e as renderComponent, b as addAttribute, m as maybeRenderHead } from './astro/server_CFIJpBV_.mjs';
import './_page_.12145de2_ClrpWW0d.mjs';

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Astro = createAstro();
const $$Icon = createComponent(($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$Icon;
  const {
    icon,
    class: className = "",
    style = "",
    size = "md",
    color,
    fallback = "\u25CF",
    loading = "lazy"
  } = Astro2.props;
  const sizeClasses = {
    xs: "text-xs",
    sm: "text-sm",
    md: "text-base",
    lg: "text-lg",
    xl: "text-xl",
    "2xl": "text-2xl"
  };
  const sizeClass = sizeClasses[size] || sizeClasses.md;
  const colorStyle = color ? `color: ${color};` : "";
  const combinedStyle = `${colorStyle}${style}`;
  const combinedClass = `${sizeClass} ${className}`.trim();
  const iconId = `icon-${Math.random().toString(36).substring(2, 9)}`;
  return renderTemplate(_a || (_a = __template(["", "<span", "", "", ' data-astro-cid-qpfihmil> <!-- \u52A0\u8F7D\u72B6\u6001\u6307\u793A\u5668 --> <span class="icon-loading animate-pulse opacity-50" data-loading-indicator data-astro-cid-qpfihmil> ', " </span> <!-- \u5B9E\u9645\u56FE\u6807 --> ", " </span> <script>(function(){", "\n  // \u56FE\u6807\u52A0\u8F7D\u548C\u663E\u793A\u903B\u8F91\n  (function() {\n    const container = document.querySelector(`[data-icon-container=\"${iconId}\"]`);\n    if (!container) return;\n    \n    const loadingIndicator = container.querySelector('[data-loading-indicator]');\n    const iconElement = container.querySelector('[data-icon-element]');\n    \n    if (!loadingIndicator || !iconElement) return;\n\n    // \u68C0\u67E5\u56FE\u6807\u662F\u5426\u5DF2\u7ECF\u52A0\u8F7D\n    function checkIconLoaded() {\n      // \u68C0\u67E5iconify-icon\u5143\u7D20\u662F\u5426\u5DF2\u7ECF\u6E32\u67D3\n      const hasContent = iconElement.shadowRoot && \n                        iconElement.shadowRoot.children.length > 0;\n      \n      if (hasContent) {\n        showIcon();\n        return true;\n      }\n      return false;\n    }\n\n    // \u663E\u793A\u56FE\u6807\uFF0C\u9690\u85CF\u52A0\u8F7D\u6307\u793A\u5668\n    function showIcon() {\n      loadingIndicator.style.display = 'none';\n      iconElement.classList.remove('opacity-0');\n      iconElement.classList.add('opacity-100');\n    }\n\n    // \u663E\u793A\u52A0\u8F7D\u6307\u793A\u5668\uFF0C\u9690\u85CF\u56FE\u6807\n    function showLoading() {\n      loadingIndicator.style.display = 'inline-flex';\n      iconElement.classList.remove('opacity-100');\n      iconElement.classList.add('opacity-0');\n    }\n\n    // \u521D\u59CB\u72B6\u6001\n    showLoading();\n\n    // \u76D1\u542C\u56FE\u6807\u52A0\u8F7D\u4E8B\u4EF6\n    iconElement.addEventListener('load', () => {\n      showIcon();\n    });\n\n    // \u76D1\u542C\u56FE\u6807\u52A0\u8F7D\u9519\u8BEF\n    iconElement.addEventListener('error', () => {\n      // \u4FDD\u6301\u663E\u793Afallback\n      console.warn(`Failed to load icon: ${icon}`);\n    });\n\n    // \u4F7F\u7528MutationObserver\u76D1\u542Cshadow DOM\u53D8\u5316\n    if (window.MutationObserver) {\n      const observer = new MutationObserver(() => {\n        if (checkIconLoaded()) {\n          observer.disconnect();\n        }\n      });\n\n      // \u76D1\u542Ciconify-icon\u5143\u7D20\u7684\u53D8\u5316\n      observer.observe(iconElement, {\n        childList: true,\n        subtree: true,\n        attributes: true\n      });\n\n      // \u8BBE\u7F6E\u8D85\u65F6\uFF0C\u907F\u514D\u65E0\u9650\u7B49\u5F85\n      setTimeout(() => {\n        observer.disconnect();\n        if (!checkIconLoaded()) {\n          console.warn(`Icon load timeout: ${icon}`);\n        }\n      }, 5000);\n    }\n\n    // \u7ACB\u5373\u68C0\u67E5\u4E00\u6B21\uFF08\u53EF\u80FD\u5DF2\u7ECF\u52A0\u8F7D\u5B8C\u6210\uFF09\n    setTimeout(() => {\n      checkIconLoaded();\n    }, 100);\n  })();\n})();<\/script> "], ["", "<span", "", "", ' data-astro-cid-qpfihmil> <!-- \u52A0\u8F7D\u72B6\u6001\u6307\u793A\u5668 --> <span class="icon-loading animate-pulse opacity-50" data-loading-indicator data-astro-cid-qpfihmil> ', " </span> <!-- \u5B9E\u9645\u56FE\u6807 --> ", " </span> <script>(function(){", "\n  // \u56FE\u6807\u52A0\u8F7D\u548C\u663E\u793A\u903B\u8F91\n  (function() {\n    const container = document.querySelector(\\`[data-icon-container=\"\\${iconId}\"]\\`);\n    if (!container) return;\n    \n    const loadingIndicator = container.querySelector('[data-loading-indicator]');\n    const iconElement = container.querySelector('[data-icon-element]');\n    \n    if (!loadingIndicator || !iconElement) return;\n\n    // \u68C0\u67E5\u56FE\u6807\u662F\u5426\u5DF2\u7ECF\u52A0\u8F7D\n    function checkIconLoaded() {\n      // \u68C0\u67E5iconify-icon\u5143\u7D20\u662F\u5426\u5DF2\u7ECF\u6E32\u67D3\n      const hasContent = iconElement.shadowRoot && \n                        iconElement.shadowRoot.children.length > 0;\n      \n      if (hasContent) {\n        showIcon();\n        return true;\n      }\n      return false;\n    }\n\n    // \u663E\u793A\u56FE\u6807\uFF0C\u9690\u85CF\u52A0\u8F7D\u6307\u793A\u5668\n    function showIcon() {\n      loadingIndicator.style.display = 'none';\n      iconElement.classList.remove('opacity-0');\n      iconElement.classList.add('opacity-100');\n    }\n\n    // \u663E\u793A\u52A0\u8F7D\u6307\u793A\u5668\uFF0C\u9690\u85CF\u56FE\u6807\n    function showLoading() {\n      loadingIndicator.style.display = 'inline-flex';\n      iconElement.classList.remove('opacity-100');\n      iconElement.classList.add('opacity-0');\n    }\n\n    // \u521D\u59CB\u72B6\u6001\n    showLoading();\n\n    // \u76D1\u542C\u56FE\u6807\u52A0\u8F7D\u4E8B\u4EF6\n    iconElement.addEventListener('load', () => {\n      showIcon();\n    });\n\n    // \u76D1\u542C\u56FE\u6807\u52A0\u8F7D\u9519\u8BEF\n    iconElement.addEventListener('error', () => {\n      // \u4FDD\u6301\u663E\u793Afallback\n      console.warn(\\`Failed to load icon: \\${icon}\\`);\n    });\n\n    // \u4F7F\u7528MutationObserver\u76D1\u542Cshadow DOM\u53D8\u5316\n    if (window.MutationObserver) {\n      const observer = new MutationObserver(() => {\n        if (checkIconLoaded()) {\n          observer.disconnect();\n        }\n      });\n\n      // \u76D1\u542Ciconify-icon\u5143\u7D20\u7684\u53D8\u5316\n      observer.observe(iconElement, {\n        childList: true,\n        subtree: true,\n        attributes: true\n      });\n\n      // \u8BBE\u7F6E\u8D85\u65F6\uFF0C\u907F\u514D\u65E0\u9650\u7B49\u5F85\n      setTimeout(() => {\n        observer.disconnect();\n        if (!checkIconLoaded()) {\n          console.warn(\\`Icon load timeout: \\${icon}\\`);\n        }\n      }, 5000);\n    }\n\n    // \u7ACB\u5373\u68C0\u67E5\u4E00\u6B21\uFF08\u53EF\u80FD\u5DF2\u7ECF\u52A0\u8F7D\u5B8C\u6210\uFF09\n    setTimeout(() => {\n      checkIconLoaded();\n    }, 100);\n  })();\n})();<\/script> "])), maybeRenderHead(), addAttribute(`inline-flex items-center justify-center ${combinedClass}`, "class"), addAttribute(combinedStyle, "style"), addAttribute(iconId, "data-icon-container"), fallback, renderComponent($$result, "iconify-icon", "iconify-icon", { "icon": icon, "class": "icon-content opacity-0 transition-opacity duration-200", "data-icon-element": true, "loading": loading, "data-astro-cid-qpfihmil": true }), defineScriptVars({ iconId, icon }));
}, "D:/lyf/blog/my_blog/src/components/misc/Icon.astro", void 0);

export { $$Icon as default };
